<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Product Page for Serine AI Chat Widget</title>
  <style>
    body { 
      font-family: Arial, Helvetica, sans-serif; 
      line-height: 1.6; 
      padding: 20px; 
    }
    header { 
      border-bottom: 1px solid #ccc; 
      margin-bottom: 20px; 
    }
    .section { 
      margin-bottom: 30px; 
    }
    .faq-item { 
      margin-bottom: 15px; 
    }
    .faq-item h3 { 
      margin: 0 0 5px; 
    }
    /* Floating Icon Button style */
    #chat-toggle-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background-color: #007BFF;
      color: #fff;
      border: none;
      border-radius: 50%;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      z-index: 1001;
      transition: opacity 0.3s ease;
    }
  </style>
</head>
<body>
  <header>
    <h1>Test Product for Serine AI</h1>
    <!-- Display buyer info -->
    <p id="buyer-info" data-buyer-id="BUYER_123456">
      Buyer ID: BUYER_123456
    </p>
  </header>

  <!-- Commercial Information Section -->
  <section id="commercial-info" class="section">
    <h2>Product Information</h2>
    <p>
      <strong>Product Name:</strong> Serene Smartwatch<br>
      <strong>Description:</strong> A cutting-edge smartwatch designed for busy professionals.
    </p>
    <p>
      <strong>Price:</strong> $29.99<br>
      <strong>Availability:</strong> In Stock
    </p>
  </section>

  <!-- Frequently Asked Questions (FAQ) Section -->
  <section id="faq" class="section">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">
      <h3>What are the product specifications?</h3>
      <p>The Serene Smartwatch features a 1.5-inch AMOLED display, 10-hour battery life, and supports both iOS and Android.</p>
    </div>
    <div class="faq-item">
      <h3>What is the warranty period?</h3>
      <p>The product comes with a 2-year warranty covering manufacturing defects.</p>
    </div>
    <div class="faq-item">
      <h3>What is the return policy?</h3>
      <p>Returns are accepted within 30 days of purchase with a valid receipt.</p>
    </div>
  </section>

  <!-- Floating Icon Button -->
  <button id="chat-toggle-btn">&#128172;</button>
  
  <!-- Include the widget.js script using the correct URL (without any /public/ prefix) -->
  <script src="https://serine-ai.vercel.app/widget.js" defer
          data-siteid="CLIENT_ABC123"
          data-border-color="#00AAFF"
          data-website-url="https://html-test-page-wheat.vercel.app"></script>

  <script>
    // When the HTML is fully loaded, set up the floating button events.
    document.addEventListener("DOMContentLoaded", function () {
      const toggleBtn = document.getElementById("chat-toggle-btn");
      // When you click the floating icon, try to call window.showSerineWidget.
      toggleBtn.addEventListener("click", function () {
        if (typeof window.showSerineWidget === 'function') {
          window.showSerineWidget();
          // Fade out the icon after clicking.
          toggleBtn.style.opacity = "0";
          setTimeout(() => { toggleBtn.style.display = 'none'; }, 300);
        } else {
          console.error("window.showSerineWidget is not defined.");
        }
      });
      // When the widget is closed, make the icon visible again.
      window.onWidgetClose = function () {
        toggleBtn.style.display = 'block';
        setTimeout(() => { toggleBtn.style.opacity = "1"; }, 10);
      };
    });
  </script>
</body>
</html>
